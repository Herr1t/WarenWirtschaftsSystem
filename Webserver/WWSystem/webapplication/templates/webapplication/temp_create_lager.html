{% extends "webapplication/layout.html" %}

{% block body %}
  <h1 style="text-align: center;">Lagerliste ohne Bestellnummer</h1>

  <h2>Lagerlisten Eintrag</h2>
  <form id="form" action="{% url 'temp_create_lager' %}" method="POST">
    {% csrf_token %}
    <div class="form-group">
      <fieldset id="list" class="input-field">
        <input autofocus class="form-control" type="text" name="0" required onfocusout="focusoutevent()" placeholder="Inventarnummer"/>
      </fieldset>
    </div>
    <div class="form-group">
      <button class="btn btn-primary" onclick="addInputField()" type="">Weiterer Eintrag</button>
    </div>
    <div class="form-group">
        <input class="form-control" type="text" name="typ" required placeholder="Typ">
    </div>
    <div class="form-group">
        <input class="form-control" type="text" name="modell" required placeholder="Modell">
    </div>
    <div class="form-group">
        <input class="form-control" type="text" name="spezifikation" required placeholder="Spezifikation">
    </div>
    <input class="btn btn-primary" type="submit", value="Eintragen">
  </form>
  {% if message %}
    <div style="padding-left: 7px;">{{ message }}</div>
  {% endif %}

  <script>
    const myForm = document.getElementById("list");
    c = 1;

    function addInputField() {
      // create an input field to insert
      const newInputField = document.createElement("input");
      // set input field data type to text
      newInputField.type = "text";
      // set input field name
      newInputField.name = c;
      // set required
      newInputField.setAttribute("required", "");

      newInputField.classList.add("form-control");
      // insert element
      myForm.appendChild(newInputField);
      newInputField.focus()
      c = c + 1;
    }
    
    const focusoutevent = document.getElementById("form")

    focusoutevent.addEventListener("focusout", newInputField)
  </script>
{% endblock %}